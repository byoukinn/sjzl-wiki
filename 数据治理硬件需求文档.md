## 一、研发一部应用部署硬件建议要求

如无特别说明，都建议使用64位系统

| 服务器                    | 数量(台） | 系统及版本 | CPU（核） | 服务个数 | 内存 | 硬盘 | 用途                                                         | 备注                                                         |
| ------------------------- | --------- | ---------- | --------- | -------- | ---- | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Oracle12C数据库服务器     | 1         | CentOS7    | 32        | 1        | 64G  | 1T   | 注意：数据治理数据库最好单独部署不和学校其他业务库同时使用 </br>用于安装平台数据库，数据库包括：</br>数据门户【LY_DG】 </br>标准平台【LY_ISMP】 </br>主数据【LY_MDP】</br>元数据和智能db分析【LY_YSJ】</br>历史库【LY_HIS】</br>数据仓库【LY_DW】 </br>统一权限【LY_CLOUD_XTGL/LY_CLOUD_DOCREPO/LY_CLOUD_XX】</br>质量平台【LY_QMP】 </br>数据资产【LY_GS】 </br>一表通【LY_DCP】 | 基于数据安全， 最好单独部署， 资源有限也可以公用已经存在数据库 |
| Docker Swarm 公司基础服务 | 1         | CentOS7    | 16        | 10       | 32G  | 500G | 安装docker swarm便于后面的扩展 主要安装的服务有：统一权限管理服务、统一权限管理服务/基础网关，注册服务，配置服务等 |                                                              |
| 数据中心1                 | 1         | CentOS7    | 32        | 6        | 16G  | 500G | 用于安装平台包括：标准平台前端和后台服务、主数据前端和后台服务、接口平台前端和后台 |                                                              |
| 数据治理2                 | 1         | CentOS7    | 16        | 7        | 16G  | 500G | 用于安装平台包括：质量平台前端和后台，数据资产前端和后台，一表通前端和后台、个人数据中服务，元数据平台 | 可选，不部署则 可以减掉该服务 器的配置                       |

## 二、研发一部应用部署硬件最低要求

| 服务器                    | 数量(台】 | 系统及版本 | CPU  | 服务个数 | 内存 | 硬盘 | 用途                                                         | 备注                                                         |
| ------------------------- | --------- | ---------- | ---- | -------- | ---- | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Oracle12C数据库服务器     | 1         | CentOS7    | 16   | 1        | 32G  | 1T   | 注意：数据治理数据库最好单独部署不和学校其他业务库同时使用 </br>用于安装平台数据库，数据库包括：</br>数据门户【LY_DG】 </br>标准平台【LY_ISMP】 </br>主数据【LY_MDP】</br>元数据和智能db分析【LY_YSJ】</br>历史库【LY_HIS】</br>数据仓库【LY_DW】 </br>统一权限【LY_CLOUD_XTGL/LY_CLOUD_DOCREPO/LY_CLOUD_XX】</br>质量平台【LY_QMP】 </br>数据资产【LY_GS】 </br>一表通【LY_DCP】 | 基于数据安全， 最好单独部署， 资源有限也可以公用已经存在数据库 |
| Docker Swarm 公司基础服务 | 1         | CentOS7    | 16   | 10       | 16G  | 500G | 安装docker swarm便于后面的扩展 主要安装的服务有：统一权限管理服务、统一权限管理服务/基础网关，注册服务，配置服务等 |                                                              |
| 数据中心1                 | 1         | CentOS7    | 16   | 6        | 16G  | 500G | 用于安装平台包括：标准平台前端和后台服务、主数据前端和后台服务、接口平台前端和后台 |                                                              |
| 数据治理2                 | 1         | CentOS7    | 16   | 7        | 16G  | 500G | 用于安装平台包括：质量平台前端和后台，数据资产前端和后台，一表通前端和后台、个人数据中服务，元数据平台 | 可选，不部署则 可以减掉该服务 器的配置                       |

## 三、端口开放要求

|    关联系统    |                 服务描述 | 服务名称                  | 端口（无特殊说明则TCP） |
| :------------: | ----------------------- | ------------------------- | ----------------------- |
|  **Portainer** |            portainer交互 | portainer-service         | 2377                    |
|                |            portainer通讯 | portainer-service         | 7946/TCP+UDP            |
|                |            portainer服务 | portainer-service         | 4789/UDP                |
|                |            portainer前端 | portainer-ui              | 9000/TCP+UDP            |
|                |           portainerAgent | portainer-agent           | 8000/TCP+UDP            |
|    **基础服务**    |                 注册服务 | eureka                    | 1200                    |
|                |                 网关服务 | api                       | 1101                    |
|                |                 配置服务 | config                    | 1300                    |
|                |                 权限服务 | auth                      | 5678                    |
|                |                redis服务 | redis                     | 16377                   |
|                |                 rabbitmq | rabbitmq                  | 15672                   |
|    **标准平台**    |             标准平台前端 | ly-bd-ismp-ui             | 15011                   |
|                |             标准平台后端 | ly-bd-ismp-svc            | 15012                   |
|                |             办公套件服务 | ly-bd-libreoffice         | 15013                   |
|   **主数据平台**   |           主数据平台前端 | ly-bd-mdp-ui              | 15021                   |
|                |           主数据平台后端 | ly-bd-mdp-svc             | 15022                   |
|    **接口平台**    |             接口平台前端 | ly-bd-mdp-api-ui          | 15031                   |
|                |             接口平台后端 | ly-bd-mdp-api-svc         | 15032                   |
|    **质量平台**    |             质量平台前端 | ly-bd-qmp-ui              | 15041                   |
|                |             质量平台后端 | ly-bd-qmp-svc             | 15042                   |
| **DB智能分析平台** |               元数据前置 | ly-ysj                    | 15152                   |
|                |           DB智能分析前端 | ly-bd-qmp-ui              | 15061                   |
|                |           DB智能分析后端 | ly-bd-qmp-svc             | 15062                   |
|  **资产公示平台**  |             公示平台前端 | ly-bd-issue-ui            | 15071                   |
|                |             公示平台后端 | ly-bd-issue-svc           | 15072                   |
|   **高级表平台**   |           高基表平台前端 |                           | 15081                   |
|                |           高基表平台后端 |                           | 15082                   |
|     **一表通**     |               一表通前端 | ly-bd-data-collection-ui  | 15091                   |
|                |               一表通后端 | ly-bd-data-collection-svc | 15092                   |
|  **个人数据中心**  |         个人数据中心前端 | ly-bd-pdc-ui              | 15093                   |
|                |         个人数据中心后端 | ly-bd-pdc-svc             | 15094                   |
|                | 集深中间件端口（Tomcat） |                           | 15099                   |
|                |             爬虫平台前端 | ly-bd-crawl-ui            | 15101                   |

## 四、DTS应用部署硬件要求

| 系统及版本 | 数量(台) | CPU(核) | 内存(G) | 硬盘(G) | 同时运行数据量（仅读取）                             | 同时运行数据流程                                         |
| ---------- | --------- | -------- |  ---- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Window Server R2012以上 / CentOS7 | 2      | 16       | 32 | 500 | 50w~100w行 | 1~5条 |
| Window Server R2012以上 / CentOS7 | 2 | 16 | 64 | 500 | 100w~200w行 | 5~10条 |
| Window Server R2012以上 / CentOS7 | 2 | 32 | 64 | 500 | 200w~250w行 | 10~20条 |
| Window Server R2012以上 / CentOS7 | 2 | 32 | 128 | 500 | 400w~500w行 | 10~20条 |

### Q1：为什么会有两台

A1：两台分别一台是mongo数据库，一台是应用本身。

### Q2：Window 平台好还是 Linux 好

A2：Window方便，Linux稳定，建议数据库linux，应用装window，好处是在window上能装软件调试数据库和查数据。

### Q3：装在一起好还是分开装好

A3：分开好，因`A2`原因，调整比较灵活，而且不会共享cpu。没资源了可以装在一起的，效果差距10%估计是有的。

